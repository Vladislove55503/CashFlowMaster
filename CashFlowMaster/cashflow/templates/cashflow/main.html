{% extends 'cashflow/base.html' %} 


{% block content %}

<div class="container bg-dark rounded mt-5 p-4">
	<form method="get">
		<div class="row">
			<div class="col-4">
				<label class="form-label text-white">Дата создания записи</label>
				<div class="row ps-2 pe-2">{{ filter.form.date_created }}</div>
			</div>
			<div class="col-2">
				<label class="form-label text-white">Статус</label>
				{{ filter.form.status_act }}
			</div>
			<div class="col-2">
				<label class="form-label text-white">Тип</label>
				{{ filter.form.type_act }}
			</div>
			<div class="col-2">
				<label class="form-label text-white">Категория</label>
				{{ filter.form.category_act }}
			</div>
			<div class="col-2">
				<label class="form-label text-white">Подкатегория</label>
				{{ filter.form.subcategory_act }}
			</div>
		</div>

		<div class="row">
			<div class="mt-3">
				<button type="submit" class="btn btn-primary">Искать</button>
			</div>
		</div>
	</form>
</div>

<div class="container mt-5 p-4">
	<table class="table">
		<thead>
			<tr>
				<th scope="col">Дата</th>
				<th scope="col">Статус</th>
				<th scope="col">Тип</th>
				<th scope="col">Категория</th>
				<th scope="col">Подкатегория</th>
				<th scope="col">Сумма</th>
				<th scope="col">Комментарий</th>
				<th scope="col"></th>
			</tr>
		</thead>
		<tbody>
			
			{% for obj in filter.qs %}
			<tr>
				<td>
					{% if obj.date_created %}
						{{ obj.date_created }}
					{% endif %}
				</td>
				<td>
					{% if obj.status_act %}
						{{ obj.status_act }}
					{% endif %}
				</td>
				<td>
					{% if obj.type_act %}
						{{ obj.type_act }}
					{% endif %}
				</td>
				<td>
					{% if obj.category_act %}
						{{ obj.category_act }}
					{% endif %}
				</td>
				<td>
					{% if obj.subcategory_act %}
						{{ obj.subcategory_act }}
					{% endif %}
				</td>
				<td>{{ obj.amount }}</td>
				<td class="w-25">
					<div class="overflow-auto" style="max-height: 150px">{{ obj.comment }}</div>
				</td>

				<td>
					<a class="btn btn-primary" href="{% url 'cashflow:detail_transact' pk=obj.pk %}">Подробно</a>
				</td>
			</tr>
			{% endfor %}
		</tbody>
	</table>
</div>

{% endblock %}
